区间dp, 动态规划, 前缀和, 数学分析, 数论, 预处理, 状态转移优化, 贪心策略, 时间复杂度优化, 条件判断