树的直径，树形动态规划，广度优先搜索，深度优先搜索，预处理，动态规划，图论，树的遍历，子树分解，路径最大值，树的最远节点对，边分割，子树的直径，路径和的计算，树的结构分析，最大路径优化